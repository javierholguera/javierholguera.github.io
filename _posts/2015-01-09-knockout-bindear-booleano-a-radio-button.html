---
layout: post
title: 'Knockout: bindear booleano a radio button'
date: 2015-01-09 17:42:50.000000000 +00:00
type: post
published: true
status: publish
categories:
- Knockout
tags:
- Binding
- boolean
- custom binding
- knockout
- radio button
meta:
  _oembed_71806ef7a4194bf6f1369756c9f3a59f: "{{unknown}}"
  _edit_last: '1'
  _oembed_8093c7cfcca104d918f26c7202c1a182: "{{unknown}}"
  _jetpack_related_posts_cache: a:1:{s:32:"8f6677c9d6b0f903e98ad32ec61f8deb";a:2:{s:7:"expires";i:1450276756;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:111;}i:1;a:1:{s:2:"id";i:64;}i:2;a:1:{s:2:"id";i:1781;}}}}
author:
  login: admin
  email: javier.holguera@gmail.com
  display_name: admin
  first_name: ''
  last_name: ''
---
<p>Knockout JS es un framework realmente útil para hacer páginas web dinámicas. Últimamente he tenido la oportunidad de utilizarlo bastante y, siendo un total inexperto, puedo decir que facilita mucho las cosas y tiene una excelente documentación.</p>
<p>Sin embargo, recientemente me encontré en una situación en la que tuve que invertir bastante tiempo para conseguir hacer funcionar un binding entre un par de radio buttons, una propiedad JavaScript del viewModel de Knockout y la correspondiente propiedad en el modelo MVC que recibía mi acción del controlador.</p>
<h4>El error</h4>
<p>El error se manifestaba simplemente no funcionando el binding entre mi propiedad JS del viewModel y los correspondiente radio buttons. En un primer momento el binding parecía ir bien, pero al enviar la página de vuelta al servidor y retornar al mismo punto por existir algún error en la validación del modelo MVC, el binding no saltaba y los radio buttons no se marcaban según los valores que el usuario hubiera elegido.</p>
<h4>La razón</h4>
<p>Los radio buttons definen sus valores como strings mientras que la propiedad del modelo MVC era booleano. Entre medias Knockout intentaba “lidiar” entre ambas, pero al recibir el modelo MVC de vuelta tras la validación, su valor booleano no bindeaba correctamente con los radio buttons por ser sus valores cadenas en lugar de booleanos también.</p>
<h4>La solución</h4>
<p>Probablemente haya múltiples, pero en mi caso la más sencilla fue utilizar un binding custom entre los radio buttons con valores string y la propiedad JS del viewModel.</p>
<p> https://gist.github.com/javierholguera/7bad4fa6e6a4e1aa2ffb
<p>Utilizando un interceptor entre los valores que llegan de los radio buttons y la propiedad, podemos convertir en ambos sentidos entre booleanos y strings convenientemente.</p>
<p>El custom binding se aplica sobre el binding “checked” habitual de los radio buttons, de forma que podemos reaprovechar todo el mecanismo ya existente.</p>
<h4>Referencias</h4>
<p><a href="http://stackoverflow.com/questions/10510683/knockoutjs-version-2-1-0-bind-boolean-value-to-select-box">StackOverflow - Knockoutjs (version 2.1.0): bind boolean value to select box</a></p>
